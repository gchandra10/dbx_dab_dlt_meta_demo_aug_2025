# Bronze and Silver DLT Meta Pipelines for People Data
resources:
  pipelines:
    pipeline_bronze_people:
      name: People - R2B Pipeline
      catalog: ${var.${bundle.target}_catalog_name}
      schema: ${var.schema_name}
      development: ${var.${bundle.target}_development_enabled}
      photon: ${var.photon_enabled}
      serverless: ${var.serverless_enabled}
      libraries:
        - notebook:
            path: ${workspace.file_path}/notebooks/deploy_pipeline_people

      configuration:
        layer: bronze
        dummy_param: ${var.dummy_param}
        bronze.dataflowspecTable: ${var.bronze_dataflowspecTable}
        bronze.group: my_people
        bundle.sourcePath: ${workspace.file_path}/src

      budget_policy_id: ${var.serverless_budget_policy_id}

    pipeline_silver_people:
      name: People - B2S Pipeline
      catalog: ${var.${bundle.target}_catalog_name}
      schema: ${var.schema_name}
      development: ${var.${bundle.target}_development_enabled}
      photon: ${var.photon_enabled}
      serverless: ${var.serverless_enabled}
      libraries:
        - notebook:
            path: ${workspace.file_path}/notebooks/deploy_pipeline_people

      configuration:
        layer: silver
        dummy_param: ""
        silver.dataflowspecTable: ${var.silver_dataflowspecTable}
        silver.group: my_people
        bundle.sourcePath: ${workspace.file_path}/src
        
      budget_policy_id: ${var.serverless_budget_policy_id}
