# The main pipeline for dbx_dab_dlt_meta_demo_aug_2025
resources:
  pipelines:
    pipeline_dlt_meta_bronze_people:
      name: dlt meta bronze people
      catalog: ${var.catalog_name}
      schema: ${var.schema_name}
      development: true
      photon: ${var.photon_enabled}
      serverless: ${var.serverless_enabled}
      libraries:
        - notebook:
            path: ${workspace.file_path}/src/dlt_meta_pipeline

      configuration:
        layer: bronze
        bronze.dataflowspecTable: ${var.bronze_dataflowspecTable}
        bronze.group: my_csv_people
        bundle.sourcePath: ${workspace.file_path}/src

      budget_policy_id: b63db2af-f829-4167-a88d-fbd716df8c2d

    pipeline_dlt_meta_silver_people:
      name: dlt meta silver people
      catalog: ${var.catalog_name}
      schema: ${var.schema_name}
      development: true
      photon: ${var.photon_enabled}
      serverless: ${var.serverless_enabled}
      libraries:
        - notebook:
            path: ${workspace.file_path}/src/dlt_meta_pipeline

      configuration:
        layer: silver
        silver.dataflowspecTable: ${var.silver_dataflowspecTable}
        silver.group: my_csv_people
        bundle.sourcePath: ${workspace.file_path}/src
        
      budget_policy_id: b63db2af-f829-4167-a88d-fbd716df8c2d
